package corejava.hospital;

import java.util.*;
import java.lang.reflect.*;

public class Patient {

	public static void main(String[] args) throws Exception {
		
		BpListener[] obj=new BpListener[]{new InchargeA(), new InchargeB()};
		Random rand = new Random();
		for(int j=0;j<10;j++){
			int bp=rand.nextInt(300)+10;
			System.out.println("BP: "+bp);
			
			if(bp>140){	
				InformListener.informBpListeners(obj, bp);
				
				BpListener bpListener=new BpListener(){
					public void notify(int bp){
						System.out.println("Inform Doctor. BP:"+bp);
					}
				};
				
				bpListener.notify(bp);
			}
			
		}
		

	}

}